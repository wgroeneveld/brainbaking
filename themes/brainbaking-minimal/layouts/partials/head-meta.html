<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- meta data tags, open graph -->
{{ if .Params.subtitle }}
	<meta name="description" content="{{ .Title }}Â - {{ .Params.subtitle }}">
	<meta content="{{ .Title }}" property="og:title">
	<meta content="{{ .Params.subtitle }}" property="og:description">
{{ else }}
	<meta name="description" content="{{ $isHomePage := eq .Title .Site.Title }}{{ .Title }}{{ if eq $isHomePage false }} - {{ .Site.Title }}{{ end }}">
	<meta content="{{ $isHomePage := eq .Title .Site.Title }}{{ .Title }}{{ if eq $isHomePage false }} - {{ .Site.Title }}{{ end }}" property="og:title">
	<meta content="{{ $isHomePage := eq .Title .Site.Title }}{{ .Title }}{{ if eq $isHomePage false }} - {{ .Site.Title }}{{ end }}" property="og:description">
{{ end }}

{{ if .Keywords }}
  <meta content="{{ delimit .Keywords ", " }}" name="keywords">
{{ else if .Params.tags }}
  <meta content="{{ delimit .Params.tags ", " }}" name="keywords">
{{ end }}

<meta property="og:url" content="{{ .Permalink }}" />
<meta property="og:type" content="{{ if .Params.type }}{{ .Params.type }}{{ else }}website{{ end }}" />
{{ if .Params.bigimg }}
  <meta property="og:image" content="{{.Site.BaseURL}}{{ .Params.bigimg }}" />
{{ end }}
<!-- zie sidebar.html, zelfde logica gebruikt -->
{{ $related := first 3 (where (where (where .Site.Pages.ByDate.Reverse ".Type" "==" "post") ".Params.tags" "intersect" .Params.tags) "Permalink" "!=" .Permalink) }}

{{ if $related }}
  {{ range $related }}
    <meta property="og:see_also" content="{{ .Permalink }}" />
  {{ end }}
{{ end }}
<meta property="article:published_time" content="{{ .PublishDate }}" />
<meta property="article:modified_time" content="{{ .Date }}" />
<meta property="article:section" content="{{ .Section }}" />
{{ with .Params.tags }}{{ range first 6 . }}
  <meta property="article:tag" content="{{ . }}" />
{{ end }}{{ end }}
<!-- end og -->

<!-- structured data -->
<script type="application/ld+json">
{
    "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "{{ .Site.BaseURL }}"
    },
    "articleSection" : "{{ .Section }}",
    "name" : "{{ .Title | safeJS }}",
    {{ if .Params.subtitle }}
      "headline" : "{{ .Params.subtitle | safeJS }}",
    {{ else }}
      "headline" : "{{ .Title | safeJS }}",
    {{ end }}
    "description" : "{{ if .Description }}{{ .Description | safeJS }}{{ else }}{{if .IsPage}}{{ .Summary | safeJS }}{{ end }}{{ end }}",
    {{ if isset .Params "language" }}
      "inLanguage" : "{{ .Params.language }}",
    {{ else if eq "essays" .Section }}
      "inLanguage" : "nl-BE",
    {{ else if eq "teaching" .Section }}
      "inLanguage" : "nl-BE",
    {{ else }}
      "inLanguage" : "en-US",
    {{ end }}
    "isFamilyFriendly": "true",
    {{ if .Params.bigimg }}
    	"image": "{{.Site.BaseURL}}bigimg/{{ .Params.bigimg }}",
    {{ else }}
      "image": "{{.Site.BaseURL}}img/avatar-icon.png",
    {{ end }}
    "author" : {
    	"@type": "Person",
    	"name": "{{ .Site.Author.name }}"
	  },
    "creator" : {
        "@type": "Person",
        "name": "{{ .Site.Author.name }}"
    },    
    "publisher": {
    	"@type": "Organization",
    	"name": "{{ .Site.Title }}",
      "url": {{ .Site.BaseURL }},
    	"logo": {
    		"@type": "ImageObject",
    		"url": "{{.Site.BaseURL}}img/avatar-icon.png",
        "width":"32",
        "height":"32"   
    	}
	  },
    "accountablePerson" : "{{ .Site.Author.name }}",
    "copyrightHolder" : "{{ .Site.Title }}",
    "copyrightYear" : "{{ .Date.Format "2006" }}",
    "dateCreated": "{{ .Date.Format "2006-01-02T15:04:05.00Z" | safeHTML }}",
    "datePublished": "{{ .PublishDate.Format "2006-01-02T15:04:05.00Z" | safeHTML }}",
    "dateModified": "{{ .Lastmod.Format "2006-01-02T15:04:05.00Z" | safeHTML }}",
    "url" : "{{ .Permalink }}",
    "wordCount" : "{{ .WordCount }}",
    "keywords" : [ {{ if isset .Params "tags" }}{{ range .Params.tags }}"{{ . }}",{{ end }}{{ end }}"{{ .Title }}", "{{ .Section }}" ],
    "genre" : [ {{ if isset .Params "tags" }}{{ range .Params.tags }}"{{ . }}",{{ end }}{{ end }}"{{ .Title }}", "{{ .Section }}" ],
    "articleBody": "{{ .Content | safeJS }}"
}
</script>

