
# Hardware

## The Game Boy Family



Blabla game boy righthand page

\label{sales}
\begin{figure*}[h!]
    \centering
    \includegraphics{ch-handheld-gb/sales.png}
    \caption{Console sales blabla}
\end{figure*}

### The Game Boy

The original Game Boy, codenamed Dot Matrix Game (DMG) or more lovingly called the _Gray Brick_, was not Nintendo's first electronic gaming handheld if you take the Game & Watch series into account. Still, it was the first breed of a new generation of handheld gaming _consoles_: a piece of machinery that enabled swapping game cartridges on the go. And those four AA batteries made sure you could stay on the go for 15 hours - I hope you brought your spare set. 

It was released in April 1989 in Japan[^gbrel] and quickly sold a million units. Colored Game Boy casings were only offered six years after the original release, under the "Play It Loud!" campaign. It was purely a cosmetic change that would carry over to later revisions in the Game Boy family. 

According to Ars Technica, there are six major reasons why it performed so well over the course of its lifespan[^ars]:

[^gbrel]: Americans had to exercise patience for two more months. Early adopters in Europe were better of importing, as it took more than one year to arrive there! 

[^ars]: Source: [https://arstechnica.com/gaming/2019/04/game-boy-20th-anniversary/](https://arstechnica.com/gaming/2019/04/game-boy-20th-anniversary/).

\marginfig{ch-handheld-gb/tetris.png}{Are you hearing what I'm hearing, when looking at the title screen of Tetris?}{The title screen of Tetris.}

1. _Tetris_. Who would not recognize the iconic music and blocks at the hands of Alexey Pajitnov? The bundled game was a perfect match for a limited 8-bit system, best to be played in short bursts. Otherwise you run the risk of still hearing Music Type A in your dreams... 
2. Battery Life. Compared to the Sega Game Gear and Atari Lynx, both technically superior devices, the Game Boy simply allowed you to keep on playing. Battery technology was still in its infancy, and more CPU power or a backlit colored screen required too much juice. The Game Gear for instance required six AA batteries and lasted four hours - dying `73%` faster than the Game Boy!
3. Price. At launch, the Game boy was priced at `$89.99` and the Game Gear at `$149.99`[^gbpr] - that's `40%` more expensive. 
4. The Nintendo Brand. When conceiving the Game Boy, Nintendo was already dominating the home console market with the Nintendo Entertainment System (NES). Who could say no to a portable version of _Super Mario Bros._, called _Super Mario Land_, a launch title nonetheless?
5. The _Pok√©mon_ craze. Gotta catch 'em all!
6. Flexibility. Nintendo kept up with the technology race by regularly releasing new hardware revisions, updating the screens and power supply. You could even play Game Boy games on your SNES and GameCube.

[^gbpr]: In 2020, the GB would cost `$177.50` and the Game Gear `$295.85`.

The seventh reason might be overlooked by Ars Technica: _Robustness_. U.S. Police officer Stephan Scoggins of course bagged his Game Boy when he was deployed to support Operation Desert Storm as a medic. The barracks he slept in got bombed, completely destroying most possessions in it - except for his Game Boy. The handheld looked toast, so Stephan sent it to Nintendo for repair. Technicians only had to replace the destroyed battery pack before hearing the iconic _Pling!_. Military grade test passed. Stephan was sent a replacement unit and the scorched machine, dubbed the _Gulf War Game Boy_, was set on display at the Nintendo NY Center. 

\marginfig{ch-handheld-gb/gulfwar.png}{The Gulf War Game Boy.}{The Gulf War Game Boy.}

Technically, things were a bit less exciting:

| _Specification_ | _Value_                                      |
|-----------------|----------------------------------------------|
| CPU             | 8-bit Sharp LR35902 at 4.19 MHz (Z80-based)  |
| Memory          | 8 KB work RAM, 8 KB video RAM, 256 bytes ROM |
| Cartridges      | 32 KB to 8 MB                                |
| Screen          | 160 width x 144 height (10:9 aspect ratio)   |
| Colors          | 2-bit (4 shades of "olive green")            |
| Audio           | Two pulse wave generators, one 4-bit wave sample channel, 1 noise generator |
| Audio output    | handheld: mono. headphones: stereo.          |

By the year 1989, most home computers were powered by the 32-bit Intel 80386 processor running at 16 MHz, usually supported by a few megabytes of memory. Comparing a small (and cheap) handheld device with a PC is of course rather unfair. 

The specifications are more akin to Nintendo's 1985 NES. The console came equipped with two 8-bit Ricoh microprocessors: the CPU, running at 1.79 MHz in NTSC areas and at 1.66 MHz for the PAL version, and the PPU (Picture Processing Unit) running at 5.37 MHz and 5.32 MHz. It only contained 2 KB onboard RAM but supported expansions through the cartridges, up to 48 KB. One could look at the numbers and conclude that the GB was more powerful than the NES, but it's a bit more complicate than simply comparing hertz or byte values. 

The Game Boy was as one of the last 8-bit gaming device undoubtedly the weakest performing hardware devices of it's generation. This was far from a design flaw. The decision to use cheap and well-established technology in new ways fitted right in Nintendo's design philosophy. Gunpei Yokoi, the creator of the Game & Watch devices, the Game Boy, the D-pad, and the Metroid series, called it "_Lateral Thinking with Withered Technology_". Fun and gameplay before cutting edge technology, something that still stands when looking at Nintendo's later consoles such as the Wii and the Switch. Using withered technology also increased the battery life and reduced production costs. 

The as advertised[^adv] more powerful Sega Game Gear was just was weak in reality, but it wasn't a case of lateral thinking: Sega's rushed effort to quickly counterattack the GB led to the recycling of older Master System hardware[^msh]. As a result, the Game Gear, released one year after the GB, also housed a variant of the Zilog Z80 8-bit CPU clocked at 3.5 MHz. Strangely enough, it also has 8 KB work RAM, and even the screen has the same resolution as the GB... 

[^adv]: Sega's Aggressive TV commercials called the Game Boy colors "_Creamed Spinach Color_" and showcased a kid hitting himself on the head with a squirrel before playing a Game Boy in order to see "colors". 

[^msh]: It was even possible to play Master System games with a converter cartridge. 

### The Game Boy Pocket

In 1996, Nintendo released the Game Boy Pocket to bridge the gap between a future colorized version of the Game Boy, not to be released until two years later, and the original version. One year later, in 1997, Nintendo's main handheld competitor Sega would throw in the towel by discontinuing the Game Gear. 

Contrary to the bulky original model from '89, the Pocket only required two AAA batteries - that's a lot less weight to be carried around as a kid. The cost was `33%` less playtime, clocking in about 10 hours on average. 

The best part of the Pocket was not the weight, but the screen: `48.5 mm` width and `43.5 mm` height (`65 mm` diagonal) meant it was larger than both the original and the superseding Game Boy Color! Even if you still could not play in darker environments, the screen quality noticeably improved by reducing pixel-response time. It was far from perfect, but the "true" black-and-white screen did get rid of the four shades of green. To put a Pocket under the Christmas tree, your parents had to dish out only `$69`[^gbpprice].

[^gbpprice]: About `$113.37` in 2020. 

Under the hood, besides the screen and power supply, the technical capabilities remained unchanged. 

A slightly modified version called the _Game Boy Light_ sadly only really saw 'the light' in Japan, in April 1998, only five months before the arrival of the Game Boy Color. I am sure the system would have sold overseas xjust as crazy as the other machines, since it was the first Nintendo handheld to feature an electroluminescent backlit screen. European gamers like myself had to wait until 2006 to get their hands on the GBA SP AGS-101, the second backlit Game Boy model ever created. 

The GB Light's power source were two AA batteries instead of the AAA of the pocket, good for the same twelve hours of gameplay with the backlight turned on. Visually, the BG Light and the GB Pocket look the same, except that the back of the GB Light is slightly thicker to accommodate the bigger batteries. The PCB layout is identical to the Pocket.


\newpage

\begin{figure}[h!]
    \centering
    \includegraphics{ch-handheld-gb/hw-gbpocket.jpg}
    \caption[The Game Boy Pocket.]{The Game Boy Pocket. Early versions came without the "power" indicating LED, that was reintroduced later due to public demand. As usual, limited editions with special colors were also issued. This European model I borrowed from my wife is from 1997.}
\end{figure}

\newpage

\begin{figure}[h!]
    \centering
    \includegraphics{ch-handheld-gb/pcb-gbpocket.jpg}
    \caption{The main board viewed from the back of the Game Boy Pocket. An aluminum piece that is part of the plastic housing, not depicted here, shields the CPU chip (CPU-MGB) from signals coming from the cartridge when inserted into the black slot. \newline The clock speed is regulated by the crystal on the left of the CPU that reads 4.1943 (MHz). The smaller chip on the upper left is the LCD regulator (DMG-REG), while the one on the lower right is the amplifier (AMP-MGB). \newline Compared to the PCB of the original Game Boy, there's only one visible SHARP 8 KB (64K) SRAM chip. Another 8 KB video RAM was embedded in the CPU casing.}
\end{figure}

### The Game Boy CPU Architecture

- https://www.slideshare.net/TomaszRkawek/emulating-game-boy-in-java
- https://medium.com/@raphaelstaebler/building-a-gameboy-from-scratch-part-2-the-cpu-d6986a5c6c74

cycles/MHz, PPU/APU/CPU/... fetch/decode/... 

### The Game Boy Color

\marginfig{ch-handheld-gb/mario2-gb.png}{Super Mario Land 2 on the original Game Boy: four shades of ugly looking green.}{Super Mario Land 2 on the original Game Boy.}

\marginfig{ch-handheld-gb/mario2-gbp.png}{Super Mario Land 2 on the Game Boy Pocket: A lot more clear with four shades of grey.}{Super Mario Land 2 on the Game Boy Pocket.}

\marginfig{ch-handheld-gb/mario2-gbc.png}{Super Mario Land 2 on the Game Boy Color: the four accents have been replaced by colors, and sprites (Mario, the Goomba, the coin) even received extra tints!}{Super Mario Land 2 on the Game Boy Color.}

Why did it take almost nine years for Nintendo to develop a colored version of their Game Boy when the technology was already there? Sega's Game Gear could output colors in 1990. The answer is, again, battery life and price. Nintendo always made sure that gamers (and their parents) could afford their handhelds. Having to buy a lot of batteries also comes at a price[^batt]. 

[^batt]: Rechargeable batteries were not yet mainstream. 

